{"version":3,"file":"index.js","mappings":"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","sources":["webpack://__aiChatbot/webpack/universalModuleDefinition","webpack://__aiChatbot/./src/api/styles.ts","webpack://__aiChatbot/webpack/bootstrap","webpack://__aiChatbot/./src/api/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"__aiChatbot\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"__aiChatbot\"] = factory();\n\telse\n\t\troot[\"__aiChatbot\"] = factory();\n})(self, () => {\nreturn ","\"use strict\";\r\nvar _a;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.assignStyleToElement = exports.styles = exports.Elements = void 0;\r\nvar Elements;\r\n(function (Elements) {\r\n    Elements[\"MainButton\"] = \"main-button\";\r\n    Elements[\"CloseButton\"] = \"close-button\";\r\n    Elements[\"CloseButtonVisible\"] = \"close-button-visible\";\r\n    Elements[\"IFrameContainer\"] = \"iframe-container\";\r\n    Elements[\"IFrameContainerVisible\"] = \"iframe-container-visible\";\r\n    Elements[\"IFrameWrapper\"] = \"iframe-wrapper\";\r\n    Elements[\"IFrameWrapperVisible\"] = \"iframe-wrapper-visible\";\r\n    Elements[\"IFrame\"] = \"iframe\";\r\n    Elements[\"IFrameVisible\"] = \"iframe-visible\";\r\n})(Elements = exports.Elements || (exports.Elements = {}));\r\nexports.styles = (_a = {},\r\n    _a[Elements.MainButton] = {\r\n        position: 'fixed',\r\n        zIndex: '100',\r\n        bottom: '5vw',\r\n        right: '5vw',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: '0',\r\n        width: '50px',\r\n        height: '50px',\r\n        backgroundColor: '#00A1FF',\r\n        border: 'none',\r\n        borderRadius: '50%',\r\n        boxShadow: '0px 15px 35px rgba(47, 55, 60, 0.25)',\r\n        cursor: 'pointer',\r\n    },\r\n    _a[Elements.CloseButton] = {\r\n        position: 'absolute',\r\n        zIndex: '-1',\r\n        top: '12px',\r\n        left: '-40px',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: '0',\r\n        width: '30px',\r\n        height: '30px',\r\n        backgroundColor: '#FFFFFF',\r\n        border: '1px solid #e7f4fc',\r\n        borderRadius: '50%',\r\n        cursor: 'pointer',\r\n        transform: 'translate(15px, 30px)',\r\n        opacity: '0',\r\n        transition: 'transform 0.2s ease-out 0.2s, opacity 0.2s ease-out 0.2s',\r\n    },\r\n    _a[Elements.CloseButtonVisible] = {\r\n        transform: 'translate(0, 0)',\r\n        opacity: '1',\r\n    },\r\n    _a[Elements.IFrameContainer] = {\r\n        position: 'fixed',\r\n        zIndex: '101',\r\n        right: '5vw',\r\n        height: '0',\r\n        maxHeight: '100vh',\r\n        opacity: '0',\r\n        transition: 'opacity 0.3s ease-out, height 0.3s ease-out, box-shadow 0.3s ease-out',\r\n    },\r\n    _a[Elements.IFrameContainerVisible] = {\r\n        height: '400px',\r\n        opacity: '1',\r\n    },\r\n    _a[Elements.IFrameWrapper] = {\r\n        position: 'relative',\r\n        width: '300px',\r\n        maxWidth: '100vw',\r\n        height: '100%',\r\n        overflow: 'hidden',\r\n        boxShadow: 'none',\r\n        borderWidth: '0',\r\n        // borderStyle: 'solid',\r\n        // borderColor: '#2f373c1c',\r\n        borderRadius: '8px',\r\n        backgroundColor: '#E7F4FC',\r\n        transform: 'scale(0.8)',\r\n        transition: 'box-shadow 0.3s ease-out, transform 0.3s ease-out',\r\n    },\r\n    _a[Elements.IFrameWrapperVisible] = {\r\n        boxShadow: '0px 15px 35px rgba(47, 55, 60, 0.15)',\r\n        borderWidth: '1px',\r\n        transform: 'scale(1)',\r\n    },\r\n    _a[Elements.IFrame] = {\r\n        position: 'absolute',\r\n        top: '0',\r\n        left: '0',\r\n        width: '100%',\r\n        height: '100%',\r\n        // transform: 'scale(0.8)',\r\n        // boxSizing:  'border-box',\r\n        // borderRadius: '30px',\r\n        // boxShadow: '0px 15px 35px rgba(47, 55, 60, 0.25)',\r\n        opacity: '0',\r\n        transition: 'opacity 0.15s ease-out 0.15s',\r\n    },\r\n    _a[Elements.IFrameVisible] = {\r\n        opacity: '1',\r\n        // transform: 'scale(1)',\r\n    },\r\n    _a);\r\nfunction assignStyleToElement(elementSelector, element) {\r\n    for (var rule in exports.styles[elementSelector]) {\r\n        if (!rule) {\r\n            continue;\r\n        }\r\n        var style = exports.styles[elementSelector][rule];\r\n        if (style) {\r\n            element.style[rule] = style;\r\n        }\r\n    }\r\n}\r\nexports.assignStyleToElement = assignStyleToElement;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\r\n/**\r\n * This is a public API for the embed Chat component.\r\n * When included in a webpage and configured, it creates a floating button that\r\n * opens our AI chat in-page.\r\n */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar styles_1 = require(\"./styles\");\r\nfunction createButtons(doc) {\r\n    // Button\r\n    var mainButton = doc.createElement('button');\r\n    mainButton.type = 'button';\r\n    (0, styles_1.assignStyleToElement)(styles_1.Elements.MainButton, mainButton);\r\n    // btn.appendChild(icon);\r\n    mainButton.innerHTML = \"<svg width=\\\"20\\\" height=\\\"20\\\" viewBox=\\\"0 0 20 20\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" style=\\\"width: 24px; height: 24px;\\\">\\n        <path d=\\\"M10 0C4.486 0 0 4.486 0 10V14.143C0 15.167 0.897 16 2 16H3C3.26522 16 3.51957 15.8946 3.70711 15.7071C3.89464 15.5196 4 15.2652 4 15V9.857C4 9.59178 3.89464 9.33743 3.70711 9.14989C3.51957 8.96236 3.26522 8.857 3 8.857H2.092C2.648 4.987 5.978 2 10 2C14.022 2 17.352 4.987 17.908 8.857H17C16.7348 8.857 16.4804 8.96236 16.2929 9.14989C16.1054 9.33743 16 9.59178 16 9.857V16C16 17.103 15.103 18 14 18H12V17H8V20H14C16.206 20 18 18.206 18 16C19.103 16 20 15.167 20 14.143V10C20 4.486 15.514 0 10 0Z\\\" fill=\\\"white\\\"/>\\n    </svg>\\n    \";\r\n    var closeButton = doc.createElement('button');\r\n    closeButton.className = 'ai-chat-close';\r\n    closeButton.type = 'button';\r\n    (0, styles_1.assignStyleToElement)(styles_1.Elements.CloseButton, closeButton);\r\n    closeButton.innerHTML = \"<svg width=\\\"14\\\" height=\\\"9\\\" viewBox=\\\"0 0 14 9\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" style=\\\"margin-bottom: -3px\\\">\\n        <path d=\\\"M13.1513 0L14 0.905625L7 8.4L0 0.905625L0.844375 0L7 6.58437L13.1513 0Z\\\" fill=\\\"#2F373C\\\" fill-opacity=\\\"0.5\\\"/>\\n    </svg>\";\r\n    return { mainButton: mainButton, closeButton: closeButton };\r\n}\r\nfunction createIFrame(doc, config) {\r\n    var frame = doc.createElement('iframe');\r\n    frame.name = 'ai-chat-frame';\r\n    frame.title = 'AI Chatbot';\r\n    frame.role = 'dialog';\r\n    frame.setAttribute('frameBorder', '0');\r\n    frame.allowFullscreen = true;\r\n    (0, styles_1.assignStyleToElement)(styles_1.Elements.IFrame, frame);\r\n    frame.src = \"\".concat(CHAT_DOMAIN, \"/\").concat(config.botId);\r\n    var frameWrapper = document.createElement('div');\r\n    frameWrapper.className = 'ai-chat-frame';\r\n    (0, styles_1.assignStyleToElement)(styles_1.Elements.IFrameWrapper, frameWrapper);\r\n    frameWrapper.appendChild(frame);\r\n    var frameContainer = document.createElement('div');\r\n    frameContainer.className = 'ai-chat-container closed';\r\n    (0, styles_1.assignStyleToElement)(styles_1.Elements.IFrameContainer, frameContainer);\r\n    frameContainer.appendChild(frameWrapper);\r\n    return { frameContainer: frameContainer, frameWrapper: frameWrapper, frame: frame };\r\n}\r\nfunction init(document, config) {\r\n    // Create an iframe\r\n    var _a = createIFrame(document, config), frameContainer = _a.frameContainer, frameWrapper = _a.frameWrapper, frame = _a.frame;\r\n    document.body.appendChild(frameContainer);\r\n    // const frame = frameContainer.querySelector('iframe')!;\r\n    // Create a button\r\n    var _b = createButtons(document), mainButton = _b.mainButton, closeButton = _b.closeButton;\r\n    var isHidden = true;\r\n    var clickHandler = function () {\r\n        if (isHidden) {\r\n            // Show the chat\r\n            var pos = mainButton.offsetTop;\r\n            // frameContainer.classList.add('opened');\r\n            frameContainer.style.bottom = (window.innerHeight - pos + 15) + 'px';\r\n            (0, styles_1.assignStyleToElement)(styles_1.Elements.IFrameContainerVisible, frameContainer);\r\n            (0, styles_1.assignStyleToElement)(styles_1.Elements.IFrameWrapperVisible, frameWrapper);\r\n            (0, styles_1.assignStyleToElement)(styles_1.Elements.IFrameVisible, frame);\r\n            (0, styles_1.assignStyleToElement)(styles_1.Elements.CloseButtonVisible, closeButton);\r\n            isHidden = false;\r\n        }\r\n        else {\r\n            // Hide the chat\r\n            // frameContainer.classList.remove('opened');\r\n            (0, styles_1.assignStyleToElement)(styles_1.Elements.IFrameContainer, frameContainer);\r\n            (0, styles_1.assignStyleToElement)(styles_1.Elements.IFrameWrapper, frameWrapper);\r\n            (0, styles_1.assignStyleToElement)(styles_1.Elements.IFrame, frame);\r\n            (0, styles_1.assignStyleToElement)(styles_1.Elements.CloseButton, closeButton);\r\n            isHidden = true;\r\n        }\r\n    };\r\n    mainButton.addEventListener('click', clickHandler);\r\n    closeButton.addEventListener('click', clickHandler);\r\n    frameWrapper.addEventListener('transitionstart', function (e) {\r\n        if (e.target === frameWrapper && e.propertyName === 'transform') {\r\n            frameContainer.classList.remove('opened', 'closed');\r\n            if (isHidden) {\r\n                // We're opening now\r\n                frameContainer.classList.add('closing');\r\n            }\r\n            else {\r\n                // We're closing\r\n                frameContainer.classList.add('opening');\r\n            }\r\n        }\r\n    });\r\n    frameWrapper.addEventListener('transitionend', function (e) {\r\n        if (e.target === frameWrapper && e.propertyName === 'transform') {\r\n            frameContainer.classList.remove('opening', 'closing');\r\n            if (isHidden) {\r\n                // We're fully opened\r\n                frameContainer.classList.add('closed');\r\n            }\r\n            else {\r\n                // We're fully closed\r\n                frameContainer.classList.add('opened');\r\n            }\r\n        }\r\n    });\r\n    document.body.appendChild(mainButton);\r\n    frameContainer.appendChild(closeButton);\r\n}\r\nexports.default = init;\r\n"],"names":["root","factory","exports","module","define","amd","self","_a","Elements","Object","defineProperty","value","assignStyleToElement","styles","MainButton","position","zIndex","bottom","right","display","alignItems","justifyContent","padding","width","height","backgroundColor","border","borderRadius","boxShadow","cursor","CloseButton","top","left","transform","opacity","transition","CloseButtonVisible","IFrameContainer","maxHeight","IFrameContainerVisible","IFrameWrapper","maxWidth","overflow","borderWidth","IFrameWrapperVisible","IFrame","IFrameVisible","elementSelector","element","rule","style","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","styles_1","createIFrame","doc","config","frame","createElement","name","title","role","setAttribute","allowFullscreen","src","concat","botId","frameWrapper","document","className","appendChild","frameContainer","body","_b","mainButton","type","innerHTML","closeButton","createButtons","isHidden","clickHandler","pos","offsetTop","window","innerHeight","addEventListener","e","target","propertyName","classList","remove","add"],"sourceRoot":""}