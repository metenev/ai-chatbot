{"version":3,"file":"index.js","mappings":"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","sources":["webpack://__aiChatbot/webpack/universalModuleDefinition","webpack://__aiChatbot/./src/api/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"__aiChatbot\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"__aiChatbot\"] = factory();\n\telse\n\t\troot[\"__aiChatbot\"] = factory();\n})(self, () => {\nreturn ","\"use strict\";\r\n/**\r\n * This is a public API for the embed Chat component.\r\n * When included in a webpage and configured, it creates a floating button that\r\n * opens our AI chat in-page.\r\n */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction createButtons(doc) {\r\n    // Icon\r\n    // const path = doc.createElement('path');\r\n    // path.setAttribute('d', 'M10 0C4.486 0 0 4.486 0 10V14.143C0 15.167 0.897 16 2 16H3C3.26522 16 3.51957 15.8946 3.70711 15.7071C3.89464 15.5196 4 15.2652 4 15V9.857C4 9.59178 3.89464 9.33743 3.70711 9.14989C3.51957 8.96236 3.26522 8.857 3 8.857H2.092C2.648 4.987 5.978 2 10 2C14.022 2 17.352 4.987 17.908 8.857H17C16.7348 8.857 16.4804 8.96236 16.2929 9.14989C16.1054 9.33743 16 9.59178 16 9.857V16C16 17.103 15.103 18 14 18H12V17H8V20H14C16.206 20 18 18.206 18 16C19.103 16 20 15.167 20 14.143V10C20 4.486 15.514 0 10 0Z');\r\n    // path.setAttribute('fill', 'white');\r\n    // const icon = doc.createElement('svg');\r\n    // icon.setAttribute('width', '20');\r\n    // icon.setAttribute('height', '20');\r\n    // icon.setAttribute('viewBox', '0 0 20 20');\r\n    // icon.setAttribute('fill', 'none');\r\n    // icon.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\r\n    // icon.appendChild(path);\r\n    // Button\r\n    var mainButton = doc.createElement('button');\r\n    mainButton.type = 'button';\r\n    mainButton.style.position = 'fixed';\r\n    mainButton.style.zIndex = '100';\r\n    mainButton.style.bottom = '5vw';\r\n    mainButton.style.right = '5vw';\r\n    mainButton.style.display = 'flex';\r\n    mainButton.style.alignItems = 'center';\r\n    mainButton.style.justifyContent = 'center';\r\n    mainButton.style.padding = '0';\r\n    mainButton.style.width = mainButton.style.height = '50px';\r\n    mainButton.style.backgroundColor = '#00A1FF';\r\n    mainButton.style.border = 'none';\r\n    mainButton.style.borderRadius = '50%';\r\n    mainButton.style.boxShadow = '0px 15px 35px rgba(47, 55, 60, 0.25)';\r\n    mainButton.style.cursor = 'pointer';\r\n    // btn.appendChild(icon);\r\n    mainButton.innerHTML = \"<svg width=\\\"20\\\" height=\\\"20\\\" viewBox=\\\"0 0 20 20\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" style=\\\"width: 24px; height: 24px;\\\">\\n        <path d=\\\"M10 0C4.486 0 0 4.486 0 10V14.143C0 15.167 0.897 16 2 16H3C3.26522 16 3.51957 15.8946 3.70711 15.7071C3.89464 15.5196 4 15.2652 4 15V9.857C4 9.59178 3.89464 9.33743 3.70711 9.14989C3.51957 8.96236 3.26522 8.857 3 8.857H2.092C2.648 4.987 5.978 2 10 2C14.022 2 17.352 4.987 17.908 8.857H17C16.7348 8.857 16.4804 8.96236 16.2929 9.14989C16.1054 9.33743 16 9.59178 16 9.857V16C16 17.103 15.103 18 14 18H12V17H8V20H14C16.206 20 18 18.206 18 16C19.103 16 20 15.167 20 14.143V10C20 4.486 15.514 0 10 0Z\\\" fill=\\\"white\\\"/>\\n    </svg>\\n    \";\r\n    var closeButton = doc.createElement('button');\r\n    closeButton.className = 'ai-chat-close';\r\n    closeButton.type = 'button';\r\n    closeButton.style.position = 'absolute';\r\n    closeButton.style.zIndex = '-1';\r\n    closeButton.style.top = '12px';\r\n    closeButton.style.left = '-40px';\r\n    closeButton.style.display = 'flex';\r\n    closeButton.style.alignItems = 'center';\r\n    closeButton.style.justifyContent = 'center';\r\n    closeButton.style.padding = '0';\r\n    closeButton.style.width = closeButton.style.height = '30px';\r\n    closeButton.style.backgroundColor = '#FFFFFF';\r\n    closeButton.style.border = 'none';\r\n    closeButton.style.borderRadius = '50%';\r\n    closeButton.style.cursor = 'pointer';\r\n    closeButton.style.transform = 'translate(15px, 30px)';\r\n    closeButton.style.opacity = '0';\r\n    closeButton.innerHTML = \"<svg width=\\\"14\\\" height=\\\"9\\\" viewBox=\\\"0 0 14 9\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" style=\\\"margin-bottom: -3px\\\">\\n        <path d=\\\"M13.1513 0L14 0.905625L7 8.4L0 0.905625L0.844375 0L7 6.58437L13.1513 0Z\\\" fill=\\\"#2F373C\\\" fill-opacity=\\\"0.5\\\"/>\\n    </svg>\";\r\n    return { mainButton: mainButton, closeButton: closeButton };\r\n}\r\nfunction createIFrame(doc, config) {\r\n    var frame = doc.createElement('iframe');\r\n    frame.name = 'ai-chat-frame';\r\n    frame.title = 'AI Chatbot';\r\n    frame.role = 'dialog';\r\n    frame.setAttribute('frameBorder', '0');\r\n    frame.allowFullscreen = true;\r\n    frame.style.position = 'absolute';\r\n    frame.style.top = '0';\r\n    frame.style.left = '0';\r\n    frame.style.width = '100%';\r\n    frame.style.height = '100%';\r\n    // frame.style.transform = 'scale(0.8)';\r\n    // frame.style.boxSizing =  'border-box';\r\n    // frame.style.borderRadius = '30px';\r\n    // frame.style.boxShadow = '0px 15px 35px rgba(47, 55, 60, 0.25)';\r\n    frame.style.opacity = '0';\r\n    frame.src = \"\".concat(CHAT_DOMAIN, \"/\").concat(config.botId);\r\n    var frameWrapper = document.createElement('div');\r\n    frameWrapper.className = 'ai-chat-frame';\r\n    frameWrapper.style.position = 'relative';\r\n    frameWrapper.style.width = '300px';\r\n    frameWrapper.style.maxWidth = '100vw';\r\n    frameWrapper.style.height = '100%';\r\n    frameWrapper.style.overflow = 'hidden';\r\n    frameWrapper.style.borderWidth = '0';\r\n    // frameWrapper.style.borderStyle = 'solid';\r\n    // frameWrapper.style.borderColor = '#2f373c1c';\r\n    frameWrapper.style.borderRadius = '8px';\r\n    frameWrapper.style.backgroundColor = '#E7F4FC';\r\n    frameWrapper.appendChild(frame);\r\n    var frameContainer = document.createElement('div');\r\n    frameContainer.className = 'ai-chat-container';\r\n    frameContainer.style.position = 'fixed';\r\n    frameContainer.style.zIndex = '100';\r\n    frameContainer.style.right = '5vw';\r\n    frameContainer.style.height = '0';\r\n    frameContainer.style.maxHeight = '100vh';\r\n    frameContainer.style.transform = 'scale(0.8)';\r\n    frameContainer.style.opacity = '0';\r\n    frameContainer.appendChild(frameWrapper);\r\n    return { frameContainer: frameContainer, frameWrapper: frameWrapper, frame: frame };\r\n}\r\nfunction init(document, config) {\r\n    // Create an iframe\r\n    var _a = createIFrame(document, config), frameContainer = _a.frameContainer, frameWrapper = _a.frameWrapper, frame = _a.frame;\r\n    document.body.appendChild(frameContainer);\r\n    // const frame = frameContainer.querySelector('iframe')!;\r\n    // Create a button\r\n    var _b = createButtons(document), mainButton = _b.mainButton, closeButton = _b.closeButton;\r\n    var isHidden = true;\r\n    var clickHandler = function () {\r\n        if (isHidden) {\r\n            var pos = mainButton.offsetTop;\r\n            frameContainer.style.bottom = (window.innerHeight - pos + 15) + 'px';\r\n            frameContainer.style.height = '400px';\r\n            frameContainer.style.transform = 'scale(1)';\r\n            frameContainer.style.opacity = '1';\r\n            frameWrapper.style.boxShadow = '0px 15px 35px rgba(47, 55, 60, 0.15)';\r\n            frameWrapper.style.borderWidth = '1px';\r\n            frame.style.opacity = '1';\r\n            closeButton.style.transform = 'translate(0, 0)';\r\n            closeButton.style.opacity = '1';\r\n            // frame.style.transform = 'scale(1)';\r\n            // frame.classList.add('shown');\r\n            isHidden = false;\r\n        }\r\n        else {\r\n            // frame.classList.remove('shown');\r\n            frameContainer.style.height = '0';\r\n            frameContainer.style.transform = 'scale(0.8)';\r\n            frameContainer.style.opacity = '0';\r\n            frameWrapper.style.boxShadow = 'none';\r\n            frameWrapper.style.borderWidth = '0';\r\n            frame.style.opacity = '0';\r\n            closeButton.style.transform = 'translate(15px, 30px)';\r\n            closeButton.style.opacity = '0';\r\n            // frame.style.transform = 'scale(0.8)';\r\n            isHidden = true;\r\n        }\r\n    };\r\n    mainButton.addEventListener('click', clickHandler);\r\n    closeButton.addEventListener('click', clickHandler);\r\n    document.body.appendChild(mainButton);\r\n    frameContainer.appendChild(closeButton);\r\n}\r\n// module.exports = init;\r\nexports.default = init;\r\n"],"names":["root","factory","exports","module","define","amd","self","createIFrame","doc","config","frame","createElement","name","title","role","setAttribute","allowFullscreen","style","position","top","left","width","height","opacity","src","concat","botId","frameWrapper","document","className","maxWidth","overflow","borderWidth","borderRadius","backgroundColor","appendChild","frameContainer","zIndex","right","maxHeight","transform","_a","body","_b","mainButton","type","bottom","display","alignItems","justifyContent","padding","border","boxShadow","cursor","innerHTML","closeButton","createButtons","isHidden","clickHandler","pos","offsetTop","window","innerHeight","addEventListener"],"sourceRoot":""}